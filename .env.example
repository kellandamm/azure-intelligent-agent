# ============================================================================
# Azure Intelligent Agent - Environment Configuration
# ============================================================================
# Copy this file to .env and fill in your specific values
# NEVER commit .env to source control - it contains sensitive credentials
# ============================================================================

# ============================================================================
# Authentication & Database Configuration
# ============================================================================

# Enable/Disable Authentication (set to false to bypass authentication for development)
ENABLE_AUTHENTICATION=true

# Database Connection (Microsoft Fabric SQL Database or Azure SQL)
# REQUIRED: Replace with your database server details
SQL_SERVER=<your-sql-server>.database.windows.net
SQL_DATABASE=<your-database-name>
SQL_USERNAME=  # Optional if using Azure AD authentication
SQL_PASSWORD=  # Optional if using Azure AD authentication
SQL_DRIVER=ODBC Driver 18 for SQL Server
SQL_USE_AZURE_AUTH=true  # Use Azure AD authentication (recommended for production)
SQL_ENCRYPT=true
SQL_TRUST_SERVER_CERT=false

# JWT Configuration
# IMPORTANT: Generate a secure random string for production!
# Run: python -c "import secrets; print(secrets.token_urlsafe(32))"
JWT_SECRET=<generate-secure-random-string-here>
JWT_ALGORITHM=HS256
JWT_EXPIRY_HOURS=24

# ============================================================================
# Azure OpenAI Configuration
# ============================================================================
# REQUIRED: Replace with your Azure OpenAI resource details

AZURE_OPENAI_ENDPOINT=https://<your-openai-resource>.openai.azure.com/
AZURE_OPENAI_DEPLOYMENT=<your-deployment-name>  # e.g., gpt-4o, gpt-4, gpt-35-turbo
AZURE_OPENAI_API_VERSION=2024-08-01-preview

# ============================================================================
# Azure AI Foundry Project (Optional)
# ============================================================================
# Required if using Azure AI Foundry native agents
# Find these values in Azure AI Foundry portal

PROJECT_ENDPOINT=https://<your-project>.api.azureml.ms
PROJECT_CONNECTION_STRING=<your-project-connection-string>
MODEL_DEPLOYMENT_NAME=<your-model-deployment>

# ============================================================================
# Microsoft Fabric Configuration (Optional)
# ============================================================================
# Required if using Microsoft Fabric agents
# Find these values in Microsoft Fabric portal

FABRIC_WORKSPACE_ID=<your-fabric-workspace-id>
FABRIC_ORCHESTRATOR_AGENT_ID=<your-orchestrator-agent-id>
FABRIC_ORCHESTRATOR_AGENT_NAME=RetailAssistantOrchestrator
FABRIC_SALES_AGENT_ID=<your-sales-agent-id>
FABRIC_REALTIME_AGENT_ID=<your-realtime-agent-id>
FABRIC_ANALYTICS_AGENT_ID=<your-analytics-agent-id>
FABRIC_FINANCIAL_AGENT_ID=<your-financial-agent-id>
FABRIC_SUPPORT_AGENT_ID=<your-support-agent-id>
FABRIC_OPERATIONS_AGENT_ID=<your-operations-agent-id>
FABRIC_CONNECTION_ID=<your-fabric-connection-id>

# ============================================================================
# Power BI Integration Configuration (Optional)
# ============================================================================
# Required if using Power BI embedding features
# Create a service principal in Azure AD and grant Power BI permissions

POWERBI_WORKSPACE_ID=<your-powerbi-workspace-id>
POWERBI_WORKSPACE_NAME=<your-workspace-name>
POWERBI_REPORT_ID=<your-report-id>
POWERBI_CLIENT_ID=<your-service-principal-client-id>
POWERBI_CLIENT_SECRET=<your-service-principal-secret>
POWERBI_TENANT_ID=<your-azure-tenant-id>
POWERBI_CONNECTION_URL=<your-powerbi-connection-url>

# ============================================================================
# Azure Deployment Configuration
# ============================================================================
# REQUIRED: Replace with your Azure resource names
# These are used by deployment scripts and infrastructure code

AZURE_SUBSCRIPTION_ID=<your-azure-subscription-id>
AZURE_RESOURCE_GROUP=<your-resource-group-name>
AZURE_LOCATION=<your-azure-region>  # e.g., eastus2, westus, westeurope
AZURE_CONTAINER_REGISTRY=<your-acr-name>  # ACR name without .azurecr.io
AZURE_APP_NAME=<your-app-service-name>  # App Service or Container App name
APPLICATION_INSIGHTS_NAME=<your-app-insights-name>

# ============================================================================
# Application Configuration
# ============================================================================

APP_PORT=8080
LOG_LEVEL=INFO  # Options: DEBUG, INFO, WARNING, ERROR
ENABLE_TRACING=true  # Enable Application Insights tracing

# ============================================================================
# Fabric SQL Analytics Configuration (Optional)
# ============================================================================
# Configure these to query Fabric lakehouse data via SQL analytics endpoint
# Find in Fabric: Workspace → Settings → SQL analytics endpoint

FABRIC_SQL_SERVER=<your-fabric-sql-endpoint>  # e.g., xyz-abc123.datawarehouse.fabric.microsoft.com
FABRIC_SQL_DATABASE=<your-lakehouse-name>
FABRIC_CLIENT_ID=<service-principal-client-id>  # Can reuse Power BI service principal
FABRIC_CLIENT_SECRET=<service-principal-secret>
FABRIC_TENANT_ID=<your-azure-tenant-id>  # Optional, defaults to POWERBI_TENANT_ID
FABRIC_SQL_USE_AZURE_AUTH=true  # Use Azure AD authentication
FABRIC_SQL_ENCRYPT=true
FABRIC_SQL_TRUST_SERVER_CERT=false
FABRIC_SQL_DRIVER=ODBC Driver 18 for SQL Server
